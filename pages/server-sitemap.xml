import { getServerSideSitemap } from 'next-sitemap';
import { GetServerSideProps } from 'next';
import { host } from 'lib/config';

export const getServerSideProps: GetServerSideProps = async (ctx) => {
  const fields = [
    {
      loc: `${host}`, // URL
      lastmod: new Date().toISOString(), // 최근 수정일
    },
    {
      loc: `${host}/report`, // 동적 페이지 URL
      lastmod: new Date().toISOString(),
    },
    {
      loc: `${host}/works`, // 동적 페이지 URL
      lastmod: new Date().toISOString(),
    },
    {
      loc: `${host}/blog`, // 동적 페이지 URL
      lastmod: new Date().toISOString(),
    },
    {
      loc: `${host}/qna`, // Q&A 페이지 URL
      lastmod: new Date().toISOString(),
    },
    {
      loc: `${host}/contact`, // 문의하기 페이지 URL
      lastmod: new Date().toISOString(),
    },
  ];

  return getServerSideSitemap(ctx, fields);
};

// 기본 내보내기 (필수)
const ServerSitemap = () => {};

export default ServerSitemap;
